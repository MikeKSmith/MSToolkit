<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Create parameters for a simulated population by sampling them from an
external file"><title>Sample parameters from an external file — createExternalParameters • MSToolkit</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sample parameters from an external file — createExternalParameters"><meta property="og:description" content="Create parameters for a simulated population by sampling them from an
external file"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MSToolkit</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/MSToolkit_intro_vig.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/generate_data.html">generateData</a>
    <a class="dropdown-item" href="../articles/analyze_data.html">analyzeData</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Background Reading</h6>
    <a class="dropdown-item" href="../articles/simulation_overview.html">Simulation Overview</a>
    <a class="dropdown-item" href="../articles/references.html">References</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MikeKSmith/MSToolkit/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Sample parameters from an external file</h1>
      <small class="dont-index">Source: <a href="https://github.com/MikeKSmith/MSToolkit/blob/HEAD/R/createExternalParameters.R" class="external-link"><code>R/createExternalParameters.R</code></a></small>
      <div class="d-none name"><code>createExternalParameters.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create parameters for a simulated population by sampling them from an
external file</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">createExternalParameters</span><span class="op">(</span></span>
<span>  <span class="va">subjects</span>,</span>
<span>  <span class="va">file</span>,</span>
<span>  <span class="va">names</span>,</span>
<span>  <span class="va">range</span>,</span>
<span>  <span class="va">betNames</span>,</span>
<span>  <span class="va">betNums</span>,</span>
<span>  errStruc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"None"</span>, <span class="st">"Proportional"</span>, <span class="st">"Additive"</span>, <span class="st">"Log-Normal"</span><span class="op">)</span>,</span>
<span>  subset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">refCol</span>,</span>
<span>  <span class="va">refColName</span>,</span>
<span>  idCol <span class="op">=</span> <span class="fu"><a href="getEctdColName.html">getEctdColName</a></span><span class="op">(</span><span class="st">"Subject"</span><span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fu">.deriveFromMasterSeed</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  flagName <span class="op">=</span> <span class="fu"><a href="getEctdColName.html">getEctdColName</a></span><span class="op">(</span><span class="st">"ParOmit"</span><span class="op">)</span>,</span>
<span>  refColSuffix <span class="op">=</span> <span class="st">"refCol"</span>,</span>
<span>  dataId <span class="op">=</span> <span class="va">idCol</span>,</span>
<span>  workingPath <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>subjects</dt>
<dd><p>(Required) Number of subjects for which to create parameters</p></dd>


<dt>file</dt>
<dd><p>(Required) External file from which to extract parameters</p></dd>


<dt>names</dt>
<dd><p>(Required) Names of parameters to import (refers to variables
in the input data)</p></dd>


<dt>range</dt>
<dd><p>(Optional) Range of acceptable values.  Missing by default,
resulting in no "range" of values is applied to the data</p></dd>


<dt>betNames</dt>
<dd><p>(Required) Between subject effects variables in the data</p></dd>


<dt>betNums</dt>
<dd><p>(Required) Integer vector mapping between subject effects
onto fixed effects</p></dd>


<dt>errStruc</dt>
<dd><p>(Optional) (None) Function to map between subject effects:
Additive, Proportional, Log-Normal or None</p></dd>


<dt>subset</dt>
<dd><p>(Optional) Subset to apply to the data.  By default, no subset
is applied</p></dd>


<dt>refCol</dt>
<dd><p>(Optional) Vector of data to be matched to the reference
column for sampling (no reference data by default)</p></dd>


<dt>refColName</dt>
<dd><p>(Optional) Column name in data for referenced sampling (no
reference column by default)</p></dd>


<dt>idCol</dt>
<dd><p>(Optional) Subject variable name in the data ("SUBJ" by
default)</p></dd>


<dt>seed</dt>
<dd><p>(Optional) Random number seed.  Derived from the current seed by
default</p></dd>


<dt>flagName</dt>
<dd><p>(Optional) Name for "parameter omit" flag ("PAROMIT" by
default)</p></dd>


<dt>refColSuffix</dt>
<dd><p>(Optional) Suffix to add to reference variable in the
data ("refCol" by default)</p></dd>


<dt>dataId</dt>
<dd><p>(Optional) The subject variable name in the data.  By default,
this is taken to be the same as the "idCol" input</p></dd>


<dt>workingPath</dt>
<dd><p>(Optional) Working path from which to import covariate
file.  By default, the working path will be used</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame containing a subject variable, a "parameter omit flag"
and a set of extracted parameters</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The data is first imported from the specified file, and any subset applied
to it.  The function next checks that all required variables specifed appear
in the imported data.  Fixed effects (specified using names) are selected
from the file along with between subject effects (if they are also
identified).</p>
<p>If fixed and between subject effects have been generated, the "errStruc"
input will specify how the between subject effects are to be applied: * None
= Keep between subject effect seperate (and use the "suffix" supplied to
name the variables) * Additive = Add each between subject effect to the
corresponding fixed effect * Proportional = Multiply the fixed effect by the
exponentiated between subject effect * Log-Normal = Add "1 + each between
subject effect" to the corresponding fixed effect</p>
<p>If the relCol input is specified, this variable should also be retained in
the result.  The "parameter omit" flag will contain repeated "0" elements in
the return result.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>If earlier versions of MSToolkit, the "Proportional" error structure
was implemented as exp(fixed + between subject)</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="createParameters.html">createParameters</a></code> and
<code><a href="createNormalParameters.html">createNormalParameters</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Mike K Smith <a href="mailto:mstoolkit@googlemail.com">mstoolkit@googlemail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">wPath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span> <span class="st">"Runit"</span>, <span class="st">"data"</span>, <span class="st">"createParameters"</span>, package <span class="op">=</span> <span class="st">"MSToolkit"</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">createExternalParameters</span><span class="op">(</span> subjects <span class="op">=</span> <span class="fl">100</span>, names <span class="op">=</span> <span class="st">"E0,ED50"</span>,</span></span>
<span class="r-in"><span>    file <span class="op">=</span> <span class="st">"testParam.csv"</span>, errStruc <span class="op">=</span> <span class="st">"None"</span>, betNames <span class="op">=</span> <span class="st">"B1,B2"</span>, workingPath <span class="op">=</span> <span class="va">wPath</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mike K Smith, Rich Pugh, Roman Francois, Francisco Gochez.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

    </footer></div>

  

  

  </body></html>

